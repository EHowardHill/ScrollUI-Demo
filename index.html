<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        @font-face {
            font-family: "Helvetica Bold";
            src: url("fonts/Helvetica-Bold.ttf");
        }

        body {
            color: whitesmoke;
            font-family: "Helvetica Bold";
            margin: 0;
            overflow-y: hidden;
            animation: both;
            animation-duration: 500ms;
            user-select: none;
        }

        h1 {
            margin: 0px;
            padding: 0px;
        }

        h2 {
            margin: 0px;
            padding: 0px;
        }

        #myVideo {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            z-index: -1;
        }

        .icon {
            width: 48px;
            height: 48px;
        }

        .acrylic {
            background: rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 32px;
            height: 32px;
        }

        .window {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: left;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            flex-shrink: 0;
            /* Prevent shrinking */
        }

        .drag {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: left;
            height: 100%;
            width: 16px;
            background: rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            flex-shrink: 0;
            /* Prevent shrinking */
        }

        .button {
            padding: 12px;
        }

        .button:hover {
            background-color: rgba(0, 157, 255, 0.5);
        }

        .button:active {
            background-color: rgb(0, 157, 255);
        }

        .window img {
            height: 100%;
            width: auto;
            /* Maintain aspect ratio, allow horizontal overflow */
        }

        .maximized {
            width: 100vw;
        }

        .tinyicon {
            width: 16px;
            padding: 4px;
        }
    </style>
</head>

<script>
    var mouseXPos = 0;

    function scrollToWindow(win) {
        let elem = document.getElementById(win);
        let x = elem.offsetLeft;
        document.getElementById('scrollWindow').scrollLeft = x;
    }

    function maximize(win) {
        let elem = document.getElementById(win);

        if (elem.classList.contains("maximized")) {
            elem.classList.remove("maximized");
        } else {
            elem.classList.add("maximized");
            scrollToWindow(win);
        }
    }
</script>

<body>
    <video autoplay muted loop id="myVideo">
        <source src="images/wallpaper.mp4" type="video/mp4">
    </video>

    <div style="display: flex; flex-direction: column; width: 100%; height: 100%; margin: 0;">
        <div id="scrollWindow" style="flex: 1; overflow-x: auto; display: flex;">
            <div id="start" class="window" style="width: 480px">
                <div>
                    <div style="display: flex;" class="button">
                        <img src="images/icon/cinemint.jpg" style="width: 32px; height: 32px;">
                        <h2 style="padding-left: 6px">Ethan Hill</h2>
                    </div>
                    <hr>
                </div>

                <div style="flex: 1; overflow-y: auto;">
                    <div class="button">Audacity</div>
                    <div class="button">Disk Genius</div>
                    <div class="button">DOSBox</div>
                    <div class="button">DVD Styler</div>
                    <div class="button">Inkscape</div>
                    <div class="button">Krita</div>
                    <div class="button">Gimp</div>
                    <div class="button">Moho</div>
                    <div class="button">MuseScore Studio 4</div>
                    <div class="button">MySQL Workbench</div>
                    <div class="button">OBS StudioOpenMPT</div>
                    <div class="button">Oracle VM VirtualBox</div>
                    <div class="button">Shotcut</div>
                    <div class="button">Steam</div>
                    <div class="button">Studio One 5</div>
                    <div class="button">Tiled</div>
                    <div class="button">Unity Hub</div>
                    <div class="button">Visual Studio 2019</div>
                    <div class="button">Visual Studio Code</div>
                    <div class="button">VLC Player</div>
                    <div class="button">WinSCP</div>
                    <div class="button">Word 2016</div>
                </div>


                <div>
                    <hr>
                    <div style="display: flex;" >
                        <img class="button" src="images/icon/firefox.png" style="width: 32px; height: 32px;">
                        <img class="button" src="images/icon/vscode.svg" style="width: 32px; height: 32px;">
                    </div>
                    <input style="width: 100%; padding: 12px;" type="text" placeholder="Search"></input>
                </div>


            </div>
            <div id="drag" class="drag">
                <div style="flex: 1;"> </div>
                <div>
                    <center>
                        <img src="images/drag.png">
                    </center>
                </div>
                <div style="flex: 1;"> </div>
            </div>
            <div id="notepad" class="window">
                <div style="display: flex; flex-direction: column; height: 100%;">
                    <div style="display: flex;">
                        <div class="button">File</div>
                        <div class="button">Edit</div>
                        <div class="button">View</div>
                        <div style="flex: 1;"></div>
                        <div class="button" onclick="maximize('notepad')">Grow</div>
                        <div class="button">Close</div>
                    </div>
                    <textarea style="flex: 1; width: 100%"></textarea>
                    <div style="display: flex;">
                        <div>Ln 1, Col 1</div>
                        <div style="flex: 1;"></div>
                        <div>UTF-8</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="acrylic shadow" style="display: flex;">
            <div class="icon button">
                <img onclick="scrollToWindow('start')" style="width: 48px;" src="images/icon/windows.png">
            </div>
            <div class="icon button">
                <img onclick="scrollToWindow('notepad')" style="width: 48px;" src="images/icon/notepad.png">
            </div>
            <div style="flex: 1;">

            </div>
            <div class="icon button" style="display: flex; flex-direction: column;">
                <div style="flex: 1;">

                </div>

                <center>
                    <img src="images/icon/ma17-Notifications.png" width="32px;">
                </center>

                <div style="flex: 1;">

                </div>
            </div>
            <div class="icon button" style="display: flex; flex-direction: column;">
                <center>
                    5:03
                </center>
                <div style="flex: 1;">

                </div>
                <center>
                    <div style="display: flex; flex-wrap: wrap;">
                        <img class="tinyicon" src="images/icon/wifi.webp">
                        <img class="tinyicon" src="images/icon/full-battery-32.png">
                    </div>
                </center>
            </div>
        </div>
    </div>
</body>

<script>

    let dragElement = document.getElementById('drag');
    let startElement = document.getElementById('start');
    let scrollWindow = document.getElementById('scrollWindow');

    let isDragging = false;
    let initialMouseX = 0;
    let initialStartWidth = 0;

    dragElement.addEventListener('mousedown', (event) => {
        isDragging = true;
        initialMouseX = event.clientX;
        initialStartWidth = startElement.offsetWidth;
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
    });

    document.addEventListener('mousemove', (event) => {
        if (isDragging) {
            let deltaX = event.clientX - initialMouseX;
            let newWidth = initialStartWidth + deltaX;
            newWidth = Math.max(newWidth, 320);
            startElement.style.width = newWidth + 'px';
        }
    });

    //

    class Draggable {
        constructor(element) {
            this.element = element;
            this.isDragging = false;
            this.initialMouseX = 0;
            this.initialWidth = 0;

            this.element.addEventListener('mousedown', this.onMouseDown.bind(this));
        }

        onMouseDown(event) {
            this.isDragging = true;
            this.initialMouseX = event.clientX;
            this.initialWidth = this.element.offsetWidth;
            document.addEventListener('mousemove', this.onMouseMove);
            document.addEventListener('mouseup', this.onMouseUp);
        }

        onMouseMove(event) {
            if (this.isDragging) {
                let deltaX = event.clientX - this.initialMouseX;
                let newWidth = this.initialWidth + deltaX;
                newWidth = Math.max(newWidth, 320);
                this.element.style.width = newWidth + 'px';
            }
        }

        onMouseUp() {
            this.isDragging = false;
            document.removeEventListener('mousemove', this.onMouseMove);
            document.removeEventListener('mouseup', this.onMouseUp);
        }
    }

    const draggableElements = document.querySelectorAll('.draggable');

    draggableElements.forEach(element => {
    new Draggable(element);
    });
</script>

</html>